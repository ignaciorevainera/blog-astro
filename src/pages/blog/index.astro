---
import Layout from "@/layouts/MainLayout.astro";
import Article from "@/components/blog/Article.astro";
const title = "Bienvenido a mi blog";

import { getCollection } from "astro:content";
const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
---

<Layout title={title}>
	<h1>My blog</h1>
	<a href="/">Back to home</a>

	<div class="mx-auto w-full max-w-content-size">
		<section class="my-6 w-full">
			<ul class="space-y-8">
				{
					posts.map((post) => (
						<Article {...post.data} slug={post.slug} />
					))
				}
			</ul>
		</section>
	</div>
</Layout>
